<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Documentation API – Port de Plaisance Russell</title>
  <style>
    :root {
      --primary: #0056b3;
      --light: #f8f9fa;
      --dark: #212529;
      --success: #28a745;
      --danger: #dc3545;
      --gray: #6c757d;
    }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      line-height: 1.6;
      color: var(--dark);
      background: var(--light);
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
    }
    header {
      background: var(--primary);
      color: white;
      padding: 2rem 0;
      text-align: center;
    }
    h1, h2, h3 {
      color: var(--primary);
    }
    code, pre {
      font-family: 'Consolas', 'Monaco', monospace;
    }
    pre {
      background: #2d2d2d;
      color: #e6e6e6;
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
      margin: 1rem 0;
    }
    code.inline {
      background: #e9ecef;
      padding: 0.2em 0.4em;
      border-radius: 4px;
      font-size: 0.95em;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
    }
    th, td {
      border: 1px solid #dee2e6;
      padding: 0.75rem 1rem;
      text-align: left;
    }
    th {
      background: #e9ecef;
      font-weight: 600;
    }
    .method-get    { background: #d1e7dd; color: #0f5132; }
    .method-post   { background: #cff4fc; color: #055160; }
    .method-put    { background: #fff3cd; color: #664d03; }
    .method-patch  { background: #fff3cd; color: #664d03; }
    .method-delete { background: #f8d7da; color: #842029; }
    .auth-required { color: var(--danger); font-weight: bold; font-size: 0.9em; }
    .section {
      background: white;
      padding: 1.8rem;
      margin-bottom: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    .note {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 1rem;
      margin: 1rem 0;
    }
  </style>
</head>
<body>

<header>
  <div class="container">
    <h1>Documentation API<br>Port de Plaisance Russell</h1>
    <p>Gestion des utilisateurs, catways et réservations</p>
  </div>
</header>

<div class="container">

  <!-- ──────────────── VUE D’ENSEMBLE ──────────────── -->
  <section class="section">
    <h2>1. Vue d’ensemble</h2>
    
    <p>L’API permet de gérer un port de plaisance via une interface web et des appels JSON.</p>
    
    <ul>
      <li><strong>Ressources principales</strong> : Utilisateurs • Catways • Réservations</li>
      <li><strong>Authentification</strong> : JWT stocké dans un cookie httpOnly nommé <code>jwt</code></li>
      <li><strong>Base URL</strong> : <code>http://localhost:3000</code> (ou votre domaine)</li>
      <li><strong>Format des réponses</strong> :
        <ul>
          <li>Pages web → rendu EJS (interface humaine)</li>
          <li>API JSON → réponses JSON (DELETE, erreurs, etc.)</li>
        </ul>
      </li>
    </ul>

    <div class="note">
      <strong>Important :</strong> La plupart des routes <span class="auth-required">nécessitent une authentification</span> (sauf /login, /users (POST création), / et /docs).
    </div>
  </section>


  <!-- ──────────────── TUTORIEL + EXEMPLE ──────────────── -->
  <section class="section">
    <h2>2. Tutoriel – Prise en main + exemple</h2>

    <h3>Étape 1 — Connexion</h3>
    <pre><img src="home.png" 
     alt="Capture de la page d'accueil (formulaire login)" 
     style="max-width: 100%; border: 1px solid #ccc; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"></pre>
    <p>→ Crée un cookie <code>jwt</code> → redirige vers /dashboard (interface web) </p>

    <h3>Étape 2 — Navigations dans le tableau de bord</h3>
    <pre><img src="dashboard.png" 
     alt="Capture de la page dashboard" 
     style="max-width: 100%; border: 1px solid #ccc; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"></pre></pre>
     <p>Depuis ce tableau nous aovns accès à toutes les fonctionnalités de l'api, visualisation des liste de catways et des reservations et les créations de catway, reservation et d'utilisateur</p>

    <h3>Étape 3 — Créer un catways, visualisation de la liste et modifications</h3>
   <pre><img src="new-catway.png" 
     alt="Captures de la page création catways" 
     style="max-width: 100%; border: 1px solid #ccc; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
    <img src="liste-catway.png">
  <img src="detail-catway.png"></pre>
  <p>Pou créer un catway, inscrivez un numéro, si le numéro choisi est indisponible un message d'erreur apparaîtra, choisisser le type long ou short et indiquer l'état général du catway, en allant sur la liste vous pourrez voir le nombre de catways disponible, si un catways à une reservation ou non , leurs types, leurs états ainsi que les nouveaux catways tout juste ajoutés. <br> A tout moment il est possible de modifier les infosmations avec le bouton modifier en cas d'erreur, et de les details ou reservation associées des catways avec le bouton detail et de retirer de la liste avec le bouton supprimer</p>

    <h3>Étape 4 — Créer une réservation, voir la liste et modifications des reservations</h3>
    <pre><img src="new-reserv.png">
    <img src="liste-reserv.png">
  <img src="detail-reserv.png"></pre>
    <p>Pou créer une reseration, inscrivez un numéro catways, si le numéro choisi est indisponible un message d'erreur apparaîtra, saisissez le nom du client et celui du bateau, ensuite selectionnez la date d'arrivée et de départ et appuyez sur creer la reservation. <br> La page Liste des reservations vous permet de consulter les reservations enregistrées avec le numéro des catways utilisés, nom des cients et navires associés d'y apporter des modifications ou d'en supprimer </p>

    <h3>Étape 5 — Création et gestion de nouveaux utilisateurs</h3>
      <pre><img src="ajout-user.png">
          <img src="gestion-user.png"></pre>
          <p>Ce menu vous permez d'ajouter un nouvealle utilisateur, pour cela il vous faudra renseigner un Nom , un Email et un Mot de Passe, le nouvel utilisateur sera aussitôt enregistrer sur la BDD. <br>Le menu de gestion des utilisateur permet de consulter une liste des utilisateurs enregistrés avec nom et mail et la possibiliter de surrpimer les utilisateurs inutiles</p>
  </section>


  <!-- ──────────────── GLOSSAIRE ──────────────── -->
  <section class="section">
    <h2>4. Glossaire</h2>
    <table>
      <thead>
        <tr><th>Terme</th><th>Définition</th></tr>
      </thead>
      <tbody>
        <tr><td>Catway</td><td>Emplacement d’amarrage numéroté (quai flottant ou fixe)</td></tr>
        <tr><td>type</td><td>Type de catway : <code>short</code> ou <code>long</code></td></tr>
        <tr><td>catway état</td><td>État actuel : <code>bon</code> / <code>moyen</code> / <code>mauvais</code></td></tr>
        <tr><td>Réservation</td><td>Période d’occupation d’un catway par un bateau</td></tr>
        <tr><td>checkIn / checkOut</td><td>Dates d’arrivée et de départ (format ISO YYYY-MM-DD)</td></tr>
        <tr><td>JWT / cookie jwt</td><td>Jeton d’authentification stocké dans un cookie httpOnly sécurisé</td></tr>
      </tbody>
    </table>
  </section>

</div>
</body>
</html>